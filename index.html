<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<title>How2virus ðŸ˜ˆ</title>
<style>
  html, body {
    margin: 0; padding: 0; height: 100%;
    background: black;
    color: lime;
    font-family: monospace;
    overflow: hidden;
    user-select: none;
  }
  canvas {
    position: fixed; top: 0; left: 0;
    z-index: 0;
  }
  .window {
    position: absolute;
    background: #1e1e1e;
    border: 2px solid lime;
    width: 400px;
    height: 250px;
    z-index: 2;
    color: lime;
    display: flex;
    flex-direction: column;
    box-shadow: 0 0 10px lime;
    user-select: text;
  }
  .title-bar {
    background: darkgreen;
    padding: 5px;
    cursor: move;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .title-bar span {
    font-weight: bold;
  }
  .title-buttons button {
    background: red;
    color: white;
    border: none;
    width: 20px;
    height: 20px;
    margin-left: 5px;
    cursor: pointer;
    font-weight: bold;
    line-height: 18px;
    padding: 0;
  }
  .content {
    padding: 10px;
    flex: 1;
    overflow-y: auto;
    background: #111;
    white-space: pre-wrap;
    font-size: 14px;
    line-height: 1.3;
  }
  #scanner {
    background: #222;
    padding: 10px;
    border: 2px solid lime;
    font-size: 13px;
    height: 120px;
    overflow-y: auto;
    margin-top: 10px;
  }
  .btn {
    margin-top: 10px;
    padding: 7px 15px;
    background: limegreen;
    border: none;
    color: black;
    font-weight: bold;
    cursor: pointer;
    border-radius: 5px;
    user-select:none;
  }
  #bluescreen {
    position: fixed;
    top:0; left:0; width: 100%; height:100%;
    background: #AA0000;
    color: white;
    font-family: monospace;
    font-size: 20px;
    padding: 30px;
    display: none;
    z-index: 9999;
    white-space: pre-wrap;
    text-align:center;
    animation: flicker 1s infinite;
  }
  @keyframes flicker {
    0%, 100% {opacity:1;}
    50% {opacity:0.6;}
  }
  #rickroll {
    display: none;
    position: fixed;
    z-index: 9998;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: black;
  }
  #rickroll iframe {
    width: 100%;
    height: 100%;
    border: none;
  }
  #soundcontrol {
    position: fixed;
    bottom: 10px;
    right: 10px;
    z-index: 10000;
    background: rgba(0,0,0,0.7);
    border: 1px solid lime;
    padding: 10px;
    border-radius: 10px;
    color: lime;
    user-select:none;
  }
  #soundcontrol button {
    background: limegreen;
    border: none;
    cursor: pointer;
    font-weight: bold;
    padding: 5px 10px;
    margin-left: 10px;
    border-radius: 5px;
    color: black;
  }
</style>
</head>
<body onclick="enableFullscreen()">

<canvas id="matrix"></canvas>

<!-- Admin Terminal Window -->
<div id="adminWindow" class="window" style="top:30px; left:30px;">
  <div class="title-bar" onmousedown="startDrag(event, 'adminWindow')">
    <span>Admin Terminal</span>
    <div class="title-buttons">
      <button onclick="minimizeWindow('adminWindow')">_</button>
      <button onclick="closeWindow('adminWindow')">Ã—</button>
    </div>
  </div>
  <div class="content" id="adminContent">admin@how2virus:~$ </div>
</div>

<!-- Virus Scanner Window -->
<div id="scannerWindow" class="window" style="top:320px; left:30px; width: 450px; height: 300px;">
  <div class="title-bar" onmousedown="startDrag(event, 'scannerWindow')">
    <span>Fake Virenscanner</span>
    <div class="title-buttons">
      <button onclick="minimizeWindow('scannerWindow')">_</button>
      <button onclick="closeWindow('scannerWindow')">Ã—</button>
    </div>
  </div>
  <div class="content">
    <div id="scanner">Scan wird gestartet...</div>
    <button class="btn" onclick="startScan()">Scan starten</button>
  </div>
</div>

<!-- Blue Screen -->
<div id="bluescreen">
  <pre>
!!! ACHTUNG !!! VIRUS ERKANNT !!!

SYSTEMFEHLER - SCHWERER SCHADEN
Das System wird in 10 Sekunden heruntergefahren!

Bitte speichern Sie Ihre Daten nicht â€“ alle Dateien sind infiziert!

Fehlercode: 0xDEADCAFE
  </pre>
</div>

<!-- Rickroll -->
<div id="rickroll">
  <iframe src="https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1&controls=0&loop=1&playlist=dQw4w9WgXcQ" allow="autoplay" allowfullscreen></iframe>
</div>

<!-- Sound Control -->
<div id="soundcontrol">
  Sound: <button onclick="toggleSound()" id="soundBtn">Play</button>
</div>

<script>
  // Vollbild aktivieren
  function enableFullscreen() {
    const el = document.documentElement;
    if (el.requestFullscreen) el.requestFullscreen();
    else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();
    else if (el.msRequestFullscreen) el.msRequestFullscreen();
  }

  // Automatisch Virus.pdf herunterladen beim ersten Laden
  window.onload = () => {
    const link = document.createElement('a');
    link.href = 'Virus.pdf';       // Pfad zur Virus.pdf
    link.download = 'Virus.pdf';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);

    setTimeout(() => {
      enableFullscreen();
      startMatrix();
      adminTypeText("Willkommen zu How2virus...\nTippe 'help' fÃ¼r Befehle.");
    }, 500);
  };

  // Matrix Effekt
  function startMatrix() {
    const c = document.getElementById('matrix');
    const ctx = c.getContext('2d');

    c.height = window.innerHeight;
    c.width = window.innerWidth;

    const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789@#$%&*';
    const fontSize = 16;
    const columns = c.width / fontSize;

    const drops = [];
    for (let x = 0; x < columns; x++) drops[x] = 1;

    function draw() {
      ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
      ctx.fillRect(0, 0, c.width, c.height);

      ctx.fillStyle = '#0F0';
      ctx.font = fontSize + 'px monospace';

      for (let i = 0; i < drops.length; i++) {
        const text = letters.charAt(Math.floor(Math.random() * letters.length));
        ctx.fillText(text, i * fontSize, drops[i] * fontSize);

        if (drops[i] * fontSize > c.height && Math.random() > 0.975) drops[i] = 0;
        drops[i]++;
      }
    }
    setInterval(draw, 50);
  }

  // Admin Terminal mit Texteingabe simulieren
  const adminContent = document.getElementById('adminContent');
  let commandBuffer = '';

  document.addEventListener('keydown', (e) => {
    if (!document.body.contains(adminContent)) return;
    if (e.key.length === 1 && !e.ctrlKey && !e.metaKey) {
      commandBuffer += e.key;
      adminContent.textContent += e.key;
    } else if (e.key === 'Backspace') {
      if (commandBuffer.length > 0) {
        commandBuffer = commandBuffer.slice(0, -1);
        adminContent.textContent = adminContent.textContent.slice(0, -1);
      }
    } else if (e.key === 'Enter') {
      adminContent.textContent += '\n';
      processCommand(commandBuffer.toLowerCase());
      commandBuffer = '';
      adminContent.textContent += 'admin@how2virus:~$ ';
      scrollToBottom(adminContent);
    }
  });

  function scrollToBottom(el) {
    el.scrollTop = el.scrollHeight;
  }

  function processCommand(cmd) {
    switch (cmd) {
      case 'help':
        adminContent.textContent +=
          'VerfÃ¼gbare Befehle:\n' +
          'scan - Virus Scan starten\n' +
          'rickroll - Ãœberraschung\n' +
          'bluescreen - Systemabsturz simulieren\n' +
          'clear - Terminal leeren\n';
        break;
      case 'scan':
        startScan();
        break;
      case 'rickroll':
        showRickroll();
        break;
      case 'bluescreen':
        showBlueScreen();
        break;
      case 'clear':
        adminContent.textContent = 'admin@how2virus:~$ ';
        break;
      default:
        adminContent.textContent += 'Befehl nicht erkannt: ' + cmd + '\n';
    }
  }

  // Fake Virenscanner
  const scannerOutput = document.getElementById('scanner');
  let scanInterval;

  function startScan() {
    const messages = [
      'System wird Ã¼berprÃ¼ft...',
      'Malware gefunden: Trojan.Virus',
      'Schadcode wird isoliert...',
      'Systemfehler erkannt!',
      'Virus wird entfernt...',
      'Scan abgeschlossen. Kein Virus mehr gefunden.'
    ];
    let i = 0;
    scannerOutput.textContent = '';
    clearInterval(scanInterval);

    scanInterval = setInterval(() => {
      if (i >= messages.length) {
        clearInterval(scanInterval);
        scannerOutput.textContent += '\nScan beendet.';
        return;
      }
      scannerOutput.textContent += messages[i] + '\n';
      scannerOutput.scrollTop = scannerOutput.scrollHeight;
      i++;
    }, 1500);
  }

  // Blue Screen anzeigen
  function showBlueScreen() {
    const bs = document.getElementById('bluescreen');
    bs.style.display = 'block';
    setTimeout(() => {
      bs.style.display = 'none';
    }, 10000);
  }

  // Rickroll anzeigen
  function showRickroll() {
    const r = document.getElementById('rickroll');
    r.style.display = 'block';
    setTimeout(() => {
      r.style.display = 'none';
    }, 30000);
  }

  // Fenster verschieben
  let dragTarget = null;
  let dragOffsetX = 0;
  let dragOffsetY = 0;

  function startDrag(e, id) {
    dragTarget = document.getElementById(id);
    dragOffsetX = e.clientX - dragTarget.offsetLeft;
    dragOffsetY = e.clientY - dragTarget.offsetTop;
    document.addEventListener('mousemove', drag);
    document.addEventListener('mouseup', stopDrag);
  }

  function drag(e) {
    if (!dragTarget) return;
    dragTarget.style.left = (e.clientX - dragOffsetX) + 'px';
    dragTarget.style.top = (e.clientY - dragOffsetY) + 'px';
  }

  function stopDrag() {
    dragTarget = null;
    document.removeEventListener('mousemove', drag);
    document.removeEventListener('mouseup', stopDrag);
  }

  function minimizeWindow(id) {
    const w = document.getElementById(id);
    if (w.style.height !== '30px') {
      w.dataset.oldHeight = w.style.height;
      w.style.height = '30px';
      w.querySelector('.content').style.display = 'none';
    } else {
      w.style.height = w.dataset.oldHeight || '250px';
      w.querySelector('.content').style.display = 'block';
    }
  }

  function closeWindow(id) {
    const w = document.getElementById(id);
    w.style.display = 'none';
  }

  // Sound (Rickroll)
  let audio;
  function toggleSound() {
    if (!audio) {
      audio = new Audio('videoplayback.mp3'); // eigene mp3 muss im Ordner sein
      audio.loop = true;
      audio.play();
      document.getElementById('soundBtn').textContent = 'Pause';
    } else if (audio.paused) {
      audio.play();
      document.getElementById('soundBtn').textContent = 'Pause';
    } else {
      audio.pause();
      document.getElementById('soundBtn').textContent = 'Play';
    }
  }
</script>

</body>
</html>
